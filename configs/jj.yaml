# Example: Expose Jujutsu (jj) commands as MCP tools
# Great for LLM-assisted version control workflows

name: jj-tools
description: "MCP tools for Jujutsu version control"
command: jj
category: vcs
tags: ["version-control", "commits", "branches"]

tools:
  - name: jj_status
    description: "Show the working copy status and repo state"
    command: status

  - name: jj_log
    description: "Show revision history"
    command: log
    args:
      - name: limit
        type: integer
        description: "Limit number of revisions to show"
        flag: "--limit"
        default: 10
      - name: revisions
        type: string
        description: "Revset expression to filter (e.g. 'trunk()..@')"
        flag: "--revisions"
      - name: no_graph
        type: boolean
        description: "Don't show the graph, just list revisions"
        flag: "--no-graph"

  - name: jj_diff
    description: "Show changes in a revision"
    command: diff
    args:
      - name: revision
        type: string
        description: "Revision to show diff for (default: working copy)"
        flag: "--revision"
      - name: from
        type: string
        description: "Show changes from this revision"
        flag: "--from"
      - name: to
        type: string
        description: "Show changes to this revision"
        flag: "--to"
      - name: stat
        type: boolean
        description: "Show diffstat instead of full diff"
        flag: "--stat"

  - name: jj_describe
    description: "Set or update the description (commit message) of a revision"
    command: describe
    args:
      - name: revision
        type: string
        description: "Revision to describe (default: @)"
        flag: "--revision"
      - name: message
        type: string
        description: "The description text"
        required: true
        flag: "--message"

  - name: jj_new
    description: "Create a new empty revision after the given revision(s)"
    command: new
    args:
      - name: revisions
        type: string
        description: "Parent revision(s) for the new change"
        positional: true
      - name: message
        type: string
        description: "Description for the new revision"
        flag: "--message"

  - name: jj_bookmark_list
    description: "List bookmarks"
    command: bookmark list
    args:
      - name: all
        type: boolean
        description: "Show all bookmarks including remote-only"
        flag: "--all"

  - name: jj_bookmark_set
    description: "Create or move a bookmark to a revision"
    command: bookmark set
    args:
      - name: name
        type: string
        description: "Bookmark name"
        required: true
        positional: true
      - name: revision
        type: string
        description: "Revision to point the bookmark at"
        flag: "--revision"

  - name: jj_git_push
    description: "Push bookmarks to a Git remote"
    command: git push
    args:
      - name: all
        type: boolean
        description: "Push all bookmarks"
        flag: "--all"
      - name: bookmark
        type: string
        description: "Push a specific bookmark"
        flag: "--bookmark"
